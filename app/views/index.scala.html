@import utils.WordInfos
@import play.twirl.api.HtmlFormat._

@(hostName: String)

<!DOCTYPE html> 
<html>
	<head>
		<meta charset="utf-8"></meta>
		<title>the website that tells you the words appearing the most in your text</title>
		<link rel="stylesheet"
			type="text/css" 
			href='@routes.Assets.versioned("stylesheets/main.css")'>

	</head>

	<body>
		<div id="wrapper">
			<h3 id="info">enter your text here:</h3>
			<textarea rows="6" id="textInput" class="coolBorder"></textarea>
			<button id="textSendButton" class="coolBorder">send</button>
			<div id="result"></div>
		</div>


		<script>
				
			//sends the input text to the server to process it 
			//so to receive a coloured version of the text
			document
			.getElementById("textSendButton")
			.addEventListener("click", function(event) {
				var textInput = 
					document.getElementById("textInput").value;
				var str_json = JSON.stringify({text: textInput});
				var request= new XMLHttpRequest()
				request.open("POST", "http://@{hostName}/result", true);
				request.setRequestHeader("Content-type", "application/json");
				request.onreadystatechange = function() {
					if (this.readyState == XMLHttpRequest.DONE 
						&& this.status == 200)
						document
						.getElementById("result")
						.innerHTML = this.response;
				}
				request.send(str_json);
			});

		</script>
	</body>
</html>
